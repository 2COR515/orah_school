<!-- instructor-dashboard.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Instructor Dashboard ‚Äî Orah School</title>
  <!-- Dark Industrial Design System -->
  <link rel="stylesheet" href="./styles/dark-industrial.css" />
</head>
<body>
  <!-- Glassmorphic Header -->
  <header class="glass sticky" style="top: 0; z-index: 1000;">
    <div class="container">
      <div class="flex items-center justify-between py-4">
        <a href="instructor-hub.html" aria-label="Orah Schools Instructor Hub" class="flex items-center gap-2">
          <img src="assets/orahlogo.png" alt="Orah Schools logo" width="60" height="40">
          <span class="text-xl font-bold">Orah Schools</span>
          <span class="badge-brand">üéì Instructor</span>
        </a>
        
        <nav class="flex items-center gap-4">
          <a class="btn-ghost btn-sm" href="instructor-hub.html">Dashboard</a>
          <a class="btn-ghost btn-sm" href="instructor-analytics.html">Analytics</a>
          <a class="btn-ghost btn-sm" href="instructor-lessons.html">Lessons</a>
        </nav>
        
        <div class="flex items-center gap-3">
          <span id="instructor-name" class="hidden md:inline text-sm text-secondary">Instructor</span>
          <button id="theme-toggle" class="btn-ghost btn-sm" style="font-size: 1.2rem; padding: 0.4rem 0.6rem;" aria-label="Toggle theme">‚òÄÔ∏è</button>
          <button id="logout-btn" class="btn-secondary btn-sm">Logout</button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content Wrapper -->
  <main class="container" style="padding-top: var(--space-8); padding-bottom: var(--space-8);">
    
    <!-- Create New Lesson Section -->
    <section class="card card-brand mb-8">
      <div class="card-header">
        <h2>üìö Create New Lesson</h2>
      </div>
      <div class="card-body">
        <form id="create-lesson-form">
          <div class="form-group">
            <label for="lesson-title">Lesson Title</label>
            <input type="text" id="lesson-title" placeholder="e.g., Introduction to Calculus" required />
          </div>
          <div class="form-group">
            <label for="lesson-description">Description</label>
            <textarea id="lesson-description" rows="3" placeholder="Brief overview of the lesson..." required></textarea>
          </div>
          <div class="form-group">
            <label for="video-upload">Video File (optional)</label>
            <input type="file" id="video-upload" accept="video/*" />
          </div>
          <div class="form-group">
            <label for="thumbnail-upload">Thumbnail Image (optional)</label>
            <input type="file" id="thumbnail-upload" accept="image/*" />
          </div>
          <div class="form-group">
            <label for="resource-upload">Additional Resources ZIP (optional)</label>
            <input type="file" id="resource-upload" accept=".zip" />
          </div>
          <div id="upload-progress" style="display: none; margin-bottom: 1rem;">
            <div class="progress-bar" style="width: 0%; height: 8px; background: var(--color-brand); border-radius: 4px; transition: width 0.3s;"></div>
          </div>
          
          <div class="form-group">
            <label>Quiz Questions</label>
            <div id="quiz-questions"></div>
            <button type="button" id="add-question-btn" class="btn-secondary btn-sm mt-2">Add Question</button>
          </div>
          
          <button type="submit" id="submit-lesson-btn" class="btn-primary btn-full">Create Lesson</button>
          <span id="create-lesson-msg" class="form-error" style="display: block; margin-top: 1rem;"></span>
        </form>
      </div>
    </section>

    <!-- Manage Your Lessons Section -->
    <section class="card mb-8" id="manage-lessons-panel">
      <div class="card-header">
        <h2>Manage Your Lessons</h2>
      </div>
      <div class="card-body">
        <div id="lessons-list-container" aria-live="polite">
          <p id="lessons-loading-msg" class="text-secondary">Loading your lessons...</p>
          <div id="lessons-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>
      </div>
    </section>

    <!-- Quick Links Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Attendance Tracking Panel -->
      <section class="card" id="attendance-panel">
        <div class="card-header">
          <h2>üìã Attendance Tracking</h2>
        </div>
        <div class="card-body">
          <p class="text-secondary mb-4">Monitor and manage student attendance.</p>
          <a href="instructor-attendance.html" class="btn-primary btn-full">View Attendance</a>
        </div>
      </section>

      <!-- Analytics Panel -->
      <section class="card" id="analytics-panel">
        <div class="card-header">
          <h2>üìä Analytics</h2>
        </div>
        <div class="card-body">
          <p class="text-secondary mb-4">View class performance and engagement metrics.</p>
          <a href="instructor-analytics.html" class="btn-primary btn-full">View Analytics</a>
        </div>
      </section>
    </div>
  </main>

  <!-- Theme Switcher -->
  <script src="./scripts/theme-switcher.js"></script>
  <script src="scripts/instructor-dashboard.js"></script>
  <script>
    // Load instructor name from localStorage
    const firstName = localStorage.getItem('userFirstName') || 'Instructor';
    const lastName = localStorage.getItem('userLastName') || '';
    const instructorNameEl = document.getElementById('instructor-name');
    if (instructorNameEl) {
      instructorNameEl.textContent = `${firstName} ${lastName}`;
    }
    
    // Logout handler
    document.getElementById('logout-btn').addEventListener('click', () => {
      localStorage.clear();
      window.location.href = 'login.html';
    });
  </script>
</body>
</html>